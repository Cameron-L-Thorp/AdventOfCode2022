directories = {}
index = 0

def directory_size_calc(index):
    dir_level = 1    
    dir_size = 0
    command_num = 0
    for command in all_commands[index:len(all_commands)]:
        if dir_level > 0:
            try:
                if int(command[0]) != '':
                    command[0] = int(command[0])
            except:
                pass

            if command[1] == 'cd' and command[2] == '..':
                dir_level -= 1
                # print('decrease: ' + str(dir_level))
            elif type(command[0]) == int: 
                dir_size += command[0] 
                #directories[command[1]] = command[0]           
                # print('made it ' + str(dir_size))
            elif command[1] == 'cd':
                dir_level += 1
                # print('increase: ' + str(dir_level))
            print(f"{command} | {all_commands[index]}")
        command_num += 1
    dir_name = all_commands[index]
    directories[str(dir_name[2] + str(index))] = dir_size


with open('day_seven/day_seven_input.txt') as input:
    all_commands = []
    for command in input.readlines():
        all_commands.append(list(command.strip().split(' ')))

    for command in all_commands:
        if command[0] == 'dir':
            directories[str(command[1]) + str(index)] = 0
        index += 1

    for dir in directories.items():
        print(f"{dir}")


    index = 0
    for command in all_commands:
        if command[1] == 'cd' and command[2] != '..' and command[2] != '/':
            directory_size_calc(index)
        index += 1

for dir in directories.items():
    print(f"{dir}")

total_for_dir_under_100000 = 0
for dir in directories.values():
    if dir <= 100000:
        total_for_dir_under_100000 += dir

print(total_for_dir_under_100000)
    
    #print(all_commands)

# ('bjrbjh10', 43466912)
# ('dppgvlh14', 43386181)
# ('rtdnhb20', 295880)
# ('fcfqp25', 42394791)
# ('cts38', 11147033)
# ('gjzdf42', 11099050)
# ('fcfqp46', 145412)
# ('hvsnr51', 10792328)
# ('sftjlqbm54', 96517)
# ('qmsllmtw59', 10695811)
# ('rpvstz63', 10522813)
# ('nccm67', 440569)
# ('tsstr71', 258571)
# ('vbhh76', 10082244)
# ('rpvstz83', 2305359)
# ('fcfqp89', 1844299)
# ('hrhftz92', 163301)
# ('nzg97', 1680998)
# ('qsbpc103', 396865)
# ('pmhprnbb109', 597411)
# ('szshbn113', 303519)
# ('scsclh118', 461060)
# ('rdznzm121', 461060)
# ('hthgb126', 190975)
# ('vgfhz130', 188213)
# ('zwllwsq138', 7033511)
# ('bmgpnmbt144', 6815638)
# ('fcfqp150', 16285)
# ('fbphbmbb155', 6371091)
# ('fpnwjb166', 5990197)
# ('hqvhrpnv171', 5879209)
# ('drpffn182', 831926)
# ('fvqzjjhp186', 627266)
# ('qtc189', 74576)
# ('szdbbtw194', 552690)
# ('fcfqp197', 56006)
# ('vvrhmrbs202', 496684)
# ('sqwfj206', 475633)
# ('chjpwmb210', 305407)
# ('jbm217', 4220105)
# ('jwbrhmzj225', 582614)
# ('tsstr229', 560395)
# ('rmbpb234', 390053)
# ('jsfscjd241', 3094191)
# ('tws247', 552662)
# ('qmpbb253', 2043839)
# ('sjhrg260', 1278041)
# ('dbdc265', 663046)
# ('jprmnvv269', 503723)
# ('wbqrzrcd273', 189561)
# ('tsstr279', 614995)
# ('hqvhrpnv285', 75235)
# ('mtbt291', 30703184)
# ('gtgdhl305', 3453584)
# ('hqvhrpnv309', 3147831)
# ('dzrlrdc318', 1107036)
# ('fcfqp322', 1041239)
# ('spz326', 900093)
# ('pdhn334', 1416634)
# ('rjgsq337', 424)
# ('ptmpqgj342', 1416210)
# ('rpvstz348', 327268)
# ('wqtnzw353', 47276)
# ('qfdmhqhm358', 899823)
# ('tsstr362', 645501)
# ('ttjltb367', 106239)
# ('qtfmf373', 26443245)
# ('hrl382', 4346217)
# ('dwgnv389', 2823084)
# ('mrhvqqc392', 113150)
# ('lgn397', 2709934)
# ('qhcjcc401', 2416623)
# ('rpvstz409', 1201926)
# ('hqvhrpnv414', 1194420)
# ('rpvstz418', 922464)
# ('tbdnjbmr423', 447307)
# ('zrqf429', 7506)
# ('fcfqp433', 7506)
# ('vrp437', 5610)
# ('mnb443', 1523133)
# ('tsstr447', 172859)
# ('rfghjdj452', 1285870)
# ('tsstr456', 1207257)
# ('cjdbwvn461', 1021136)
# ('hqvhrpnv466', 43899)
# ('lsv471', 588476)
# ('vdltrlzg476', 134010)
# ('nlchndbr479', 134010)
# ('wqtnzw486', 50703)
# ('hqvhrpnv489', 50703)
# ('sfjrs495', 21903664)
# ('cgl504', 1139150)
# ('tdwn507', 119119)
# ('cjjls512', 1020031)
# ('hgppstcv515', 505329)
# ('rfwnnr522', 514702)
# ('rpvstz527', 146463)
# ('tsstr531', 67543)
# ('trtl537', 20338342)
# ('dflwctzs549', 19752632)
# ('gsl554', 19565379)
# ('gmlp560', 1055508)
# ('mjrs567', 482380)
# ('rpvstz572', 93065)
# ('jlfrcp577', 18418094)
# ('fcfqp590', 9155808)
# ('tdflqz596', 2917223)
# ('dtvnrl599', 277524)
# ('thjdsqmw604', 2639699)
# ('chhf612', 2286770)
# ('hsnrrc616', 2280492)
# ('bphrpw622', 1340467)
# ('brj627', 992188)
# ('hqvhrpnv631', 979121)
# ('fsvgbd636', 303203)
# ('rpvstz642', 432962)
# ('dmjvnrhz648', 348279)
# ('mlh651', 238301)
# ('rpvstz656', 109978)
# ('wqtnzw660', 50806)
# ('tsstr665', 940025)
# ('rpvstz668', 109284)
# ('wqtnzw673', 830741)
# ('hwpdsfg678', 646999)
# ('mrn682', 351666)
# ('hmlmvqc691', 5837524)
# ('pqmfswh698', 5231210)
# ('qghq706', 4513328)
# ('trhs710', 4347570)
# ('bnrqbrv716', 266889)
# ('snd720', 116855)
# ('tsstr726', 3842121)
# ('cdvgvc734', 3833858)
# ('gvssnh744', 1607634)
# ('nhrvzn748', 1586655)
# ('hqvhrpnv752', 962675)
# ('nlv756', 759702)
# ('rpvstz763', 623980)
# ('wqtnzw767', 442338)
# ('pgnzftwn770', 442338)
# ('njtgddhw775', 75203)
# ('mbmn782', 1379579)
# ('mprbjtnd787', 1261332)
# ('rvwqgn793', 1013184)
# ('tvtddch799', 362207)
# ('pfnlc806', 8428191)
# ('vdsjh810', 518494)
# ('wfvgc814', 315910)
# ('pjj819', 7909697)
# ('wzv823', 221150)
# ('vmjljc828', 7445723)
# ('blm838', 7414083)
# ('hqvhrpnv848', 3990999)
# ('tsstr853', 395533)
# ('fzrpgcn856', 10603)
# ('wqtnzw861', 384930)
# ('zphvcch866', 305797)
# ('fcfqp869', 305797)
# ('pvnrmvb876', 3595466)
# ('pvt881', 3373897)
# ('lslcvfv888', 1102179)
# ('gmj892', 174220)
# ('wvhrf897', 914293)
# ('nvvpbmgm902', 624419)
# ('tllpvrdv907', 309970)
# ('rjpcb914', 1866055)
# ('gqql920', 214991)
# ('srrzgt925', 1091899)
# ('bwfnrbs932', 944161)
# ('qdctrw936', 810239)
# ('svpm940', 754026)
# ('tsstr944', 548674)
# ('fcfqp951', 2914626)
# ('ctbbgw956', 571559)
# ('rpvstz960', 265387)
# ('frjdzh966', 2077991)
# ('scjhzc970', 2008706)
# ('tmz974', 1787633)
# ('tsn983', 1070856)
# ('wjszmnp987', 874735)
# ('pbtmjghf991', 874735)
# ('smbbnl995', 723699)
# ('wqtnzw999', 423899)
# ('vpvh1007', 142909)
# ('zcwpb1011', 73403)

# ('bjrbjh2', 0)
# ('dppgvlh3', 0)
# ('fcfqp4', 0)
# ('mtbt5', 0)
# ('qtfmf7', 0)
# ('sfjrs8', 0)
# ('trtl9', 0)
# ('rtdnhb19', 0)
# ('cts27', 0)
# ('gjzdf28', 0)
# ('hvsnr31', 0)
# ('qmsllmtw34', 0)
# ('rpvstz35', 0)
# ('vbhh36', 0)
# ('zwllwsq37', 0)
# ('fcfqp44', 0)
# ('sftjlqbm53', 0)
# ('nccm65', 0)
# ('tsstr66', 0)
# ('rpvstz79', 0)
# ('scsclh80', 0)
# ('fcfqp85', 0)
# ('nzg86', 0)
# ('pmhprnbb87', 0)
# ('szshbn88', 0)
# ('hrhftz91', 0)
# ('qsbpc101', 0)
# ('rdznzm120', 0)
# ('hthgb123', 0)
# ('vgfhz124', 0)
# ('bmgpnmbt140', 0)
# ('fbphbmbb141', 0)
# ('hqvhrpnv143', 0)
# ('fcfqp146', 0)
# ('fpnwjb157', 0)
# ('hqvhrpnv158', 0)
# ('jbm159', 0)
# ('jsfscjd160', 0)
# ('qmpbb161', 0)
# ('sjhrg162', 0)
# ('tsstr163', 0)
# ('drpffn174', 0)
# ('fvqzjjhp175', 0)
# ('szdbbtw178', 0)
# ('vvrhmrbs181', 0)
# ('qtc188', 0)
# ('fcfqp196', 0)
# ('sqwfj204', 0)
# ('chjpwmb208', 0)
# ('jwbrhmzj220', 0)
# ('tsstr223', 0)
# ('rmbpb233', 0)
# ('tws246', 0)
# ('dbdc262', 0)
# ('jprmnvv263', 0)
# ('wbqrzrcd264', 0)
# ('gtgdhl294', 0)
# ('hqvhrpnv296', 0)
# ('pdhn297', 0)
# ('ptmpqgj298', 0)
# ('qfdmhqhm299', 0)
# ('tsstr300', 0)
# ('ttjltb302', 0)
# ('dzrlrdc312', 0)
# ('fcfqp313', 0)
# ('spz317', 0)
# ('rjgsq336', 0)
# ('rpvstz346', 0)
# ('wqtnzw347', 0)
# ('hrl376', 0)
# ('mnb377', 0)
# ('rfghjdj379', 0)
# ('tsstr380', 0)
# ('wqtnzw381', 0)
# ('dwgnv384', 0)
# ('lgn385', 0)
# ('qhcjcc386', 0)
# ('rpvstz387', 0)
# ('zrqf388', 0)
# ('mrhvqqc391', 0)
# ('hqvhrpnv411', 0)
# ('rpvstz412', 0)
# ('tbdnjbmr413', 0)
# ('fcfqp431', 0)
# ('vrp432', 0)
# ('tsstr446', 0)
# ('cjdbwvn458', 0)
# ('lsv460', 0)
# ('hqvhrpnv463', 0)
# ('vdltrlzg475', 0)
# ('nlchndbr478', 0)
# ('hqvhrpnv488', 0)
# ('cgl497', 0)
# ('cjjls498', 0)
# ('rfwnnr501', 0)
# ('rpvstz502', 0)
# ('tsstr503', 0)
# ('tdwn506', 0)
# ('hgppstcv514', 0)
# ('dflwctzs539', 0)
# ('gsl540', 0)
# ('jlfrcp542', 0)
# ('pfnlc544', 0)
# ('pjj545', 0)
# ('vmjljc548', 0)
# ('gmlp556', 0)
# ('mjrs557', 0)
# ('rpvstz558', 0)
# ('fcfqp579', 0)
# ('hmlmvqc580', 0)
# ('pqmfswh584', 0)
# ('qghq585', 0)
# ('trhs587', 0)
# ('tsstr588', 0)
# ('tdflqz593', 0)
# ('thjdsqmw594', 0)
# ('dtvnrl598', 0)
# ('chhf606', 0)
# ('hsnrrc607', 0)
# ('tsstr609', 0)
# ('wqtnzw611', 0)
# ('bphrpw618', 0)
# ('dmjvnrhz619', 0)
# ('rpvstz620', 0)
# ('wqtnzw621', 0)
# ('brj624', 0)
# ('hqvhrpnv625', 0)
# ('rpvstz626', 0)
# ('fsvgbd634', 0)
# ('mlh650', 0)
# ('rpvstz667', 0)
# ('hwpdsfg675', 0)
# ('mrn676', 0)
# ('bnrqbrv712', 0)
# ('snd715', 0)
# ('cdvgvc728', 0)
# ('mbmn729', 0)
# ('mprbjtnd730', 0)
# ('rvwqgn731', 0)
# ('tvtddch733', 0)
# ('gvssnh736', 0)
# ('nhrvzn739', 0)
# ('rpvstz741', 0)
# ('wqtnzw743', 0)
# ('hqvhrpnv750', 0)
# ('nlv751', 0)
# ('pgnzftwn769', 0)
# ('njtgddhw772', 0)
# ('vdsjh808', 0)
# ('wfvgc809', 0)
# ('wzv822', 0)
# ('blm830', 0)
# ('fcfqp832', 0)
# ('frjdzh833', 0)
# ('scjhzc834', 0)
# ('tmz835', 0)
# ('vpvh836', 0)
# ('zcwpb837', 0)
# ('hqvhrpnv841', 0)
# ('pvnrmvb842', 0)
# ('pvt843', 0)
# ('rjpcb844', 0)
# ('srrzgt846', 0)
# ('tsstr850', 0)
# ('wqtnzw851', 0)
# ('zphvcch852', 0)
# ('fzrpgcn855', 0)
# ('fcfqp868', 0)
# ('lslcvfv883', 0)
# ('wvhrf887', 0)
# ('gmj890', 0)
# ('nvvpbmgm901', 0)
# ('tllpvrdv906', 0)
# ('gqql918', 0)
# ('bwfnrbs927', 0)
# ('qdctrw929', 0)
# ('svpm930', 0)
# ('tsstr931', 0)
# ('ctbbgw953', 0)
# ('rpvstz954', 0)
# ('tsn979', 0)
# ('wjszmnp981', 0)
# ('pbtmjghf989', 0)
# ('smbbnl990', 0)
# ('wqtnzw998', 0)